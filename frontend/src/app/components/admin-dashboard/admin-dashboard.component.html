<div class="container mt-5">
    <div class="card glass-card p-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="neon-text-violet">ðŸ“Š Tableau de Bord Administrateur</h2>
            <div>
                <button class="btn btn-neon-cyan me-2" (click)="runAssignment()" [disabled]="loading">
                    <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
                    ðŸš€ Lancer l'Algorithme
                </button>
                <button class="btn btn-neon-violet" (click)="downloadPdf()">ðŸ“„ Exporter PDF</button>
            </div>
        </div>

        <div *ngIf="message" class="alert alert-info glass-alert mb-4">
            {{ message }}
        </div>

        <div class="table-responsive">
            <table class="table table-dark table-hover glass-table">
                <thead>
                    <tr>
                        <th scope="col">Ã‰tudiant</th>
                        <th scope="col">ActivitÃ©</th>
                        <th scope="col">Type</th>
                        <th scope="col">Rang VÅ“u</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let aff of affectations">
                        <td>{{ aff.etudiant.prenom }} {{ aff.etudiant.nom }}</td>
                        <td>{{ aff.activite.titre }}</td>
                        <td><span class="badge bg-secondary">{{ aff.activite.type }}</span></td>
                        <td>
                            <span class="badge" [ngClass]="{
                'bg-success': aff.rangVoeu === 1,
                'bg-info': aff.rangVoeu === 2,
                'bg-warning': aff.rangVoeu > 2
              }">VÅ“u {{ aff.rangVoeu }}</span>
                        </td>
                    </tr>
                    <tr *ngIf="affectations.length === 0">
                        <td colspan="4" class="text-center text-muted">Aucune affectation pour le moment.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>